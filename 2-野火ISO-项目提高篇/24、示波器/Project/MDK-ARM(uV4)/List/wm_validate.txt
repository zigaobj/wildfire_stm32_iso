; generated by ARM C/C++ Compiler, 5.03 [Build 76]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\obj\wm_validate.o --asm_dir=.\List\ --list_dir=.\List\ --depend=.\obj\wm_validate.d --cpu=Cortex-M3 --apcs=interwork -O0 -I..\..\Libraries\CMSIS\CM3\CoreSupport -I..\..\Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F10x -I..\..\Libraries\STM32F10x_StdPeriph_Driver\inc -I..\..\uCOS-II\Source -I..\..\uCOS-II\Ports\ARM-Cortex-M3\Generic\RealView -I..\..\User\app -I..\..\User\bsp -I..\..\uCGUI\inc -I..\..\uCGUI\Config -I..\..\uCGUI\LCDDriver -I..\..\uCGUI\uCGUIDemo -I..\..\User\fatfs -I..\..\User\mp3\pub -I..\..\User\Memory -Id:\Keil\ARM\RV31\INC -Id:\Keil\ARM\CMSIS\Include -Id:\Keil\ARM\Inc\ST\STM32F10x -D__MICROLIB -DSTM32F10X_HD -DUSE_STDPERIPH_DRIVER --omf_browse=.\obj\wm_validate.crf ..\..\uCGUI\WM\WM_Validate.c]
                          THUMB

                          AREA ||i.WM_ValidateRect||, CODE, READONLY, ALIGN=2

                  WM_ValidateRect PROC
;;;79     */
;;;80     void WM_ValidateRect(WM_HWIN hWin, const GUI_RECT*pRect) {
000000  b570              PUSH     {r4-r6,lr}
000002  4606              MOV      r6,r0
000004  460d              MOV      r5,r1
;;;81       WM_Obj* pWin;
;;;82       if (hWin) {
000006  b316              CBZ      r6,|L1.78|
;;;83         WM_LOCK();
000008  f7fffffe          BL       GUI_Lock
;;;84         pWin = WM_HANDLE2PTR(hWin);
00000c  4630              MOV      r0,r6
00000e  f7fffffe          BL       GUI_ALLOC_h2p
000012  4604              MOV      r4,r0
;;;85         if (pWin->Status & WM_SF_INVALID) {
000014  7f20              LDRB     r0,[r4,#0x1c]
000016  f0100f20          TST      r0,#0x20
00001a  d015              BEQ      |L1.72|
;;;86           if (pRect) {
00001c  b15d              CBZ      r5,|L1.54|
;;;87             _SubRect(&pWin->InvalidRect, &pWin->InvalidRect, pRect);
00001e  462a              MOV      r2,r5
000020  f1040108          ADD      r1,r4,#8
000024  4608              MOV      r0,r1
000026  f7fffffe          BL       _SubRect
;;;88             if (WM__RectIsNZ(&pWin->InvalidRect))
00002a  f1040008          ADD      r0,r4,#8
00002e  f7fffffe          BL       WM__RectIsNZ
000032  b100              CBZ      r0,|L1.54|
;;;89               goto Done;
000034  e009              B        |L1.74|
                  |L1.54|
;;;90           }
;;;91           pWin->Status &= ~WM_SF_INVALID;
000036  8ba0              LDRH     r0,[r4,#0x1c]
000038  f0200020          BIC      r0,r0,#0x20
00003c  83a0              STRH     r0,[r4,#0x1c]
;;;92           WM__NumInvalidWindows--;
00003e  4804              LDR      r0,|L1.80|
000040  8800              LDRH     r0,[r0,#0]  ; WM__NumInvalidWindows
000042  1e40              SUBS     r0,r0,#1
000044  4902              LDR      r1,|L1.80|
000046  8008              STRH     r0,[r1,#0]
                  |L1.72|
;;;93         }
;;;94       Done:
000048  bf00              NOP      
                  |L1.74|
;;;95         WM_UNLOCK();
00004a  f7fffffe          BL       GUI_Unlock
                  |L1.78|
;;;96       }
;;;97     }
00004e  bd70              POP      {r4-r6,pc}
;;;98     
                          ENDP

                  |L1.80|
                          DCD      WM__NumInvalidWindows

                          AREA ||i._SubRect||, CODE, READONLY, ALIGN=1

                  _SubRect PROC
;;;49     */
;;;50     static void _SubRect(GUI_RECT* pDest, const GUI_RECT* pr0, const GUI_RECT* pr1) {
000000  b510              PUSH     {r4,lr}
;;;51       if ((pDest == NULL) || (pr0 == NULL))
000002  b100              CBZ      r0,|L2.6|
000004  b901              CBNZ     r1,|L2.8|
                  |L2.6|
;;;52         return;
;;;53       *pDest = *pr0;	 
;;;54       if (pr1 == NULL)
;;;55         return;
;;;56       /* Check left/right sides */
;;;57       if (  (pr1->y0 <= pr0->y0)
;;;58           &&(pr1->y1 >= pr0->y1)) {
;;;59         pDest->x0 = Max(pr0->x0, pr1->x1);
;;;60         pDest->x1 = Min(pr0->x1, pr1->x0);
;;;61       }
;;;62       /* Check top/bottom sides */
;;;63       if (  (pr1->x0 <= pr0->x0)
;;;64           &&(pr1->x1 >= pr0->x1)) {
;;;65         pDest->y0 = Max(pr0->y0, pr1->y1);
;;;66         pDest->y1 = Min(pr0->y1, pr1->y0);
;;;67       }
;;;68     }
000006  bd10              POP      {r4,pc}
                  |L2.8|
000008  680b              LDR      r3,[r1,#0]            ;53
00000a  6003              STR      r3,[r0,#0]            ;53
00000c  684b              LDR      r3,[r1,#4]            ;53
00000e  6043              STR      r3,[r0,#4]            ;53
000010  b902              CBNZ     r2,|L2.20|
000012  e7f8              B        |L2.6|
                  |L2.20|
000014  f9b23002          LDRSH    r3,[r2,#2]            ;57
000018  f9b14002          LDRSH    r4,[r1,#2]            ;57
00001c  42a3              CMP      r3,r4                 ;57
00001e  dc1d              BGT      |L2.92|
000020  f9b23006          LDRSH    r3,[r2,#6]            ;58
000024  f9b14006          LDRSH    r4,[r1,#6]            ;58
000028  42a3              CMP      r3,r4                 ;58
00002a  db17              BLT      |L2.92|
00002c  f9b13000          LDRSH    r3,[r1,#0]            ;59
000030  f9b24004          LDRSH    r4,[r2,#4]            ;59
000034  42a3              CMP      r3,r4                 ;59
000036  dd02              BLE      |L2.62|
000038  f9b13000          LDRSH    r3,[r1,#0]            ;59
00003c  e001              B        |L2.66|
                  |L2.62|
00003e  f9b23004          LDRSH    r3,[r2,#4]            ;59
                  |L2.66|
000042  8003              STRH     r3,[r0,#0]            ;59
000044  f9b13004          LDRSH    r3,[r1,#4]            ;60
000048  f9b24000          LDRSH    r4,[r2,#0]            ;60
00004c  42a3              CMP      r3,r4                 ;60
00004e  dd02              BLE      |L2.86|
000050  f9b23000          LDRSH    r3,[r2,#0]            ;60
000054  e001              B        |L2.90|
                  |L2.86|
000056  f9b13004          LDRSH    r3,[r1,#4]            ;60
                  |L2.90|
00005a  8083              STRH     r3,[r0,#4]            ;60
                  |L2.92|
00005c  f9b23000          LDRSH    r3,[r2,#0]            ;63
000060  f9b14000          LDRSH    r4,[r1,#0]            ;63
000064  42a3              CMP      r3,r4                 ;63
000066  dc1d              BGT      |L2.164|
000068  f9b23004          LDRSH    r3,[r2,#4]            ;64
00006c  f9b14004          LDRSH    r4,[r1,#4]            ;64
000070  42a3              CMP      r3,r4                 ;64
000072  db17              BLT      |L2.164|
000074  f9b13002          LDRSH    r3,[r1,#2]            ;65
000078  f9b24006          LDRSH    r4,[r2,#6]            ;65
00007c  42a3              CMP      r3,r4                 ;65
00007e  dd02              BLE      |L2.134|
000080  f9b13002          LDRSH    r3,[r1,#2]            ;65
000084  e001              B        |L2.138|
                  |L2.134|
000086  f9b23006          LDRSH    r3,[r2,#6]            ;65
                  |L2.138|
00008a  8043              STRH     r3,[r0,#2]            ;65
00008c  f9b13006          LDRSH    r3,[r1,#6]            ;66
000090  f9b24002          LDRSH    r4,[r2,#2]            ;66
000094  42a3              CMP      r3,r4                 ;66
000096  dd02              BLE      |L2.158|
000098  f9b23002          LDRSH    r3,[r2,#2]            ;66
00009c  e001              B        |L2.162|
                  |L2.158|
00009e  f9b13006          LDRSH    r3,[r1,#6]            ;66
                  |L2.162|
0000a2  80c3              STRH     r3,[r0,#6]            ;66
                  |L2.164|
0000a4  bf00              NOP      
0000a6  e7ae              B        |L2.6|
;;;69     
                          ENDP

